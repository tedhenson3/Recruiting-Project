wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
View(stats)
end <- match("School:", stats)
bio <- stats[1:end]
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
?match
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
View(stats)
end <- c("School") %in% stats
bio <- stats[1:end]
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- c("School") %in% stats
bio <- stats[1:end]
View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- c("School") %in% stats
print(end)
bio <- stats[1:end]
View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- c("School:") %in% stats
print(end)
bio <- stats[1:end]
View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
?contains
'7' %in% "9995"
'9' %in% "9995"
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- is.element('School:', stats)
print(end)
bio <- stats[1:end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- is.element('School:', stats[5:8])
print(end)
bio <- stats[1:end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
print(end)
bio <- stats[1:end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- end[which(end == T)]
print(real.end)
print(end)
bio <- stats[1:end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
print(real.end[1])
print(end)
bio <- stats[1:end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[1]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[1]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
print(bio)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
print(bio)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5], "RSCI.Rating" = bio[6],
"College" = bio[7])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/collin-sexton-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
print(bio)
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/garrison-brooks-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
wsscraper(thing)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/garrison-brooks-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
data <- wsscraper(thing)
print(data)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/joel-berry-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
data <- wsscraper(thing)
print(data)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/marvin-bagleyiii-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
data <- wsscraper(thing)
print(data)
setwd("C:/Users/tedhe/Onedrive/Documents/recruiting project")
thing <- c("https://www.sports-reference.com/cbb/players/gary-trentjr-1.html")
wsscraper <- function(url){
library(tidyverse)
library(rvest)
css_tags <- 'p , h1'
stats = url %>%
read_html() %>%
html_nodes(css=css_tags) %>% html_text()
end <- grepl('School:', stats)
real.end <- which(end == T)
bio.end <- real.end[2]
bio <- stats[1:bio.end]
#View(bio)
bio <- gsub("\n", "", bio, fixed = T)
end <- grepl('Position:', bio)
real. <- which(end == T)
bio.end <- real.end[2]
player.data <- data.frame("Name" = bio[1], "Position" = bio[2], "Height.Weight" = bio[3],
"Hometown" = bio[4], "High.School" = bio[5],
"College" = bio[length(bio)])
player.data$Position = gsub("Position:", "", player.data$Position)
player.data$Hometown = gsub("Hometown:", "", player.data$Hometown)
player.data$High.School = gsub("High School:", "", player.data$High.School)
player.data$College = gsub("School:", "", player.data$College)
#player.data$RSCI.Rating = gsub("School:", "", player.data$College)
return(player.data)
}
data <- wsscraper(thing)
print(data)
