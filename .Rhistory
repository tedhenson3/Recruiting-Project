library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/stats/team_instance/1478505?subseason=245525&tab=team_instance_player_stats&tool=1537722'
img.scraped = 'https://www.prepcircuit.com/page/show/2060900-img-academy-fl-?subseason=245525&use_abbrev=true'
stats = img.actual %>%
read_html() %>%
html_table()
View(stats)
library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/stats/team_instance/1478505?subseason=245525&tab=team_instance_player_stats&tool=1537722'
img.scraped = 'https://www.prepcircuit.com/page/show/2060900-img-academy-fl-?subseason=245525&use_abbrev=true'
stats = img.actual %>%
read_html() %>%
html_table()
raw.web = img.scraped %>%
read_html()
View(raw.web)
library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/stats/team_instance/1478505?subseason=245525&tab=team_instance_player_stats&tool=1537722'
img.scraped = 'https://www.prepcircuit.com/page/show/2060900-img-academy-fl-?subseason=245525&use_abbrev=true'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
test
stats[test]
player.stat.link <- grep('Player Stats', test)
player.stat.link
library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
player.stat.link <- grep('Player Stats', test)
player.stat.link
View(test)
library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
player.stat.link <- grep('Player Stats', stats[test])
player.stat.link
library(rvest)
library(tidyverse)
img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=')
player.stats = player.stats[[1]][2]
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats
player.stats = strsplit(player.stats, '\"')
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", fixed = T)
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats fixed = T)
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
player.stats
team.stat.tables = player.stats %>%
read_html() %>% read_table()
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
team.stat.tables
library(rvest)
library(tidyverse)
library(readr)
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
View(preps)
preps[1]
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 1:length(preps)){
img.actual = preps[i,1]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
ted = readLines(preps[1,1])
preps[1,1]
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 2:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 3:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 4:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 1:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 2:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 2=3:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 6:length(preps)){
img.actual = as.vector(preps[i,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
for(i in 6:length(preps)){
img.actual = as.vector(preps[8,1])
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
img.actual
class(preps)
preps$x
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
preps = preps$x
for(i in 1:length(preps)){
img.actual = preps[i]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
}
player.stats
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats
new.stats
test
img.actual
length(test)
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
preps = preps$x
for(i in 1:length(preps)){
img.actual = preps[i]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
if(length(test) != 0){
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
print(team.stat.tables)
}
}
ted
length(ted)
exists(ted)
exists("ted")
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
preps = preps$x
for(i in 1:length(preps)){
img.actual = preps[i]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
if(length(test) != 0){
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
if(exists("players") == T){
players = rbind(players, as.data.frame(team.stat.tables[[1]]))
}
else{
players = as.data.frame(team.stat.tables[[1]])
}
}
}
exists("players")
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
preps = preps$x
for(i in 1:length(preps)){
img.actual = preps[i]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
if(length(test) != 0){
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
if(exists("players") == T){
ted = as.data.frame(team.stat.tables[[1]])
players = rbind(players, ted)
}
else{
players = as.data.frame(team.stat.tables[[1]])
}
}
}
library(rvest)
library(tidyverse)
library(readr)
setwd("~/analytics/recruiting project")
preps = read_csv(file = 'prep.circuit.teams.15-16.csv')
preps = preps$x
for(i in 1:length(preps)){
img.actual = preps[i]
#img.actual <- 'https://www.prepcircuit.com/page/show/2126352?subseason=245525&tab=content'
stats = img.actual %>%
readLines()
test = grep('remote-tool-tab', stats)
if(length(test) != 0){
new.stats = stats[test]
player.stat.link <- grep('Player Stats', new.stats)
player.stats <- new.stats[player.stat.link]
player.stats = strsplit(player.stats, 'href=\"')
player.stats = player.stats[[1]][2]
player.stats = strsplit(player.stats, '\"')
player.stats = player.stats[[1]][1]
player.stats = gsub("&amp;", "&", player.stats, fixed = T)
player.stats = paste('https://www.prepcircuit.com', player.stats, sep = '')
team.stat.tables = player.stats %>%
read_html() %>%       html_table()
if(exists("players") == T){
ted = as.data.frame(team.stat.tables[[1]])
players = rbind(players, ted)
print(players)
}
else{
players = as.data.frame(team.stat.tables[[1]])
}
}
}
View(players)
nrow(players)
write.csv(players, file = 'prep.circuit.players.csv')
